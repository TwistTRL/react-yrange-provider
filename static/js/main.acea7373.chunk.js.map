{"version":3,"sources":["lib/index.js","lib/YRangeProvider.js","index.js"],"names":["YRangeProvider","_this$props","this","props","data","x","y","minX","maxX","render","minY","Infinity","maxY","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","point","value","Math","min","max","err","return","p90","Component","Object","toConsumableArray","Array","keys","map","i","flat","App","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","_this2","_this$state","react_default","a","createElement","Fragment","type","onChange","ev","setState","Number","parseInt","target","lib","_ref","concat","ReactDOM","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.acea7373.chunk.js","sourcesContent":["import YRangeProvider from \"./YRangeProvider\";\n\nexport default YRangeProvider;\n","import React, {Component} from \"react\";\nimport PropTypes from \"prop-types\";\n\nclass YRangeProvider extends Component {\n  render(){\n    let {data,x,y,minX,maxX,render} = this.props;\n    let minY = Infinity;\n    let maxY = -Infinity;\n    // Get minY, maxY\n    for (let point of data) {\n      if (point[x]<minX || point[x]>maxX) {\n        continue;\n      }\n      minY = Math.min(minY,point[y]);\n      maxY = Math.max(maxY,point[y]);\n    }\n    // Pad\n    if (minY===maxY) {\n      minY = minY-1;\n      maxX = maxY+1;\n    }\n    else {\n      let p90 = maxY-minY;\n      maxY = maxY+p90/90*5;\n      minY = minY-p90/90*5;\n    }\n    if (minY===Infinity || maxY===-Infinity) {\n      return (\n        render({minY:0,maxY:0})\n      );\n    }\n    return (\n      render({minY,maxY})\n    );\n  }\n}\n\nYRangeProvider.propTypes = {\n  data: PropTypes.array.isRequired,\n  x: PropTypes.string.isRequired,\n  y: PropTypes.string.isRequired,\n  minX: PropTypes.number.isRequired,\n  maxX: PropTypes.number.isRequired,\n  render: PropTypes.func.isRequired,\n};\n\nexport default YRangeProvider;\n","import React, {Component,Fragment} from \"react\";\nimport ReactDOM from \"react-dom\";\nimport YRangeProvider from \"./lib\";\n\nconst data = [...new Array(10000).keys()]\n                .map((i)=>([{x:i,y:i},{x:i,y:-i}]))\n                .flat();\n\nclass App extends Component{\n  constructor(props){\n    super(props);\n    this.state = {minX: 0,\n                  maxX: 10000\n                  };\n  }\n  \n  render(){\n    let {minX,maxX} = this.state;\n    return (\n      <>\n        <fieldset>\n          <legend>Props</legend>\n          <div>\n            minX\n            <input type=\"range\" min={0} max={maxX} value={minX}\n                   onChange={(ev)=>this.setState({minX:Number.parseInt(ev.target.value)})}/>\n            {minX}\n          </div>\n          <div>\n            maxX\n            <input type=\"range\" min={minX} max={10000} value={maxX}\n                   onChange={(ev)=>this.setState({maxX:Number.parseInt(ev.target.value)})}/>\n            {maxX}\n          </div>\n            data: list of objects\n          <div>\n            x: string\n          </div>\n            y: string\n          <div>\n            render: {\"callback({minY,maxY})\"}\n          </div>\n        </fieldset>\n        <fieldset>\n          <legend>Result</legend>\n          <YRangeProvider data={data}\n                          x=\"x\"\n                          y=\"y\"\n                          minX={minX}\n                          maxX={maxX}\n                          render={({minY,maxY})=>\n            `${minY} to ${maxY}`\n                          }/>\n        </fieldset>\n      </>\n    );\n  }\n}\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}